---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSlider from '../components/HeroSlider.svelte';
import { weddings } from '../lib/weddings';

const featuredWeddings = weddings.slice(0, 2);
const featuredCards = featuredWeddings.map((wedding) => ({
  ...wedding,
  profileSrc: `/wedding/${wedding.slug}/${wedding.slug}-profile.jpg`,
}));

const heroImages = [
  {
    src: '/wedding/dori-david/dori-david-1.jpg',
    alt: 'Őszi, természetközeli dekoráció Dóri és Dávid esküvőjén',
  },
  {
    src: '/wedding/reka-balint/reka-balint-3.jpg',
    alt: 'Vidám, sokszínű mezővirágos csokor Réka és Bálint számára',
  },
  {
    src: '/wedding/adri-david/adri-david-2.jpg',
    alt: 'Szárazvirág dekoráció finom bézs árnyalatokkal Adri és Dávid napján',
  },
  {
    src: '/wedding/reka-balint/reka-balint-5.jpg',
    alt: 'Élénk, játékos virágkompozíció kültéri helyszínen',
  },
];
---

<BaseLayout
  title="Mimóza Memories — Esküvői dekoráció és virágműhely"
  description="Természetes, rusztikus és elegáns esküvői dekorációk, menyasszonyi csokrok és asztaldíszek egy építész szemével."
>
  <div class="home-snap">
    <section class="home-section home-section--hero" aria-labelledby="hero-heading">
      <HeroSlider images={heroImages} client:visible />
    </section>

    <section class="home-section home-section--light" aria-labelledby="home-about">
      <div class="home-section-inner">
        <h2 id="home-about">Természetes, mégis kifinomult esküvői dekoráció</h2>
        <p>
          Liza építész és virágkötő, aki Amszterdamban tanulta meg, hogyan válhat egy térből
          személyes, mégis visszafogottan elegáns ünnepi környezet. A Mimóza Memories dekorjai
          finoman illeszkednek a helyszínhez, az évszakhoz és a történetetekhez.
        </p>
        <p>
          A fókusz mindig a természetes anyagokon, a hosszú távon is harmonikus színhangulaton és a
          részleteken van – attól a pillanattól kezdve, amikor megérkeznek az első vendégek, egészen
          az utolsó táncig.
        </p>
      </div>
    </section>

    <section class="home-section home-section--beige" aria-labelledby="home-weddings">
      <div class="home-section-inner">
        <h2 id="home-weddings">Valódi párok, megőrzött pillanatok</h2>
        <p>
          Minden esküvő más: van, akihez a szárított virágok időtlensége áll közel, másokhoz a
          vidám, sokszínű mezővirágok vagy az őszi erdő árnyalatai. A dekorációk célja, hogy
          visszanézve is felidézzék azt a napot, nem csak a fotókon, hanem emlékben is.
        </p>

        <div class="home-wedding-row">
          {featuredCards.map((wedding) => (
            <div class="home-wedding-pill">
              <div class="pill-text">
                <h3>{wedding.name}</h3>
                <p>{wedding.caption}</p>
              </div>
              <img src={wedding.profileSrc} alt={wedding.name} loading="lazy" />
            </div>
          ))}
        </div>

        <a class="home-link" href="/wedding">Esküvői történetek megtekintése</a>
      </div>
    </section>

    <section class="home-section home-section--image" aria-labelledby="home-workshops">
      <div class="home-section-inner home-section-inner--overlay">
        <h2 id="home-workshops">Workshopok és kreatív alkalmak</h2>
        <p>
          A Mimóza Memories nem csak az esküvő napján van jelen: a karácsonyi koszorúktól a
          kopogtatókon át a kisebb virágkompozíciókig olyan workshopokat tartunk, ahol a
          résztvevőknek van idejük lelassulni, alkotni és feltöltődni.
        </p>
        <p>
          Ha szeretnél közösen készíteni valami maradandót, vagy egy személyes meglepetést adnál
          valakinek, írj Lizának, és megnézzük, milyen alkalom illik hozzád legjobban.
        </p>
        <a class="home-cta" href="/contact">Kapcsolatfelvétel Lizával</a>
      </div>
    </section>
  </div>
</BaseLayout>

<style>
  .home-snap {
    height: calc(100vh - 64px);
    margin-inline: calc(50% - 50vw);
    max-width: 100vw;
    overflow-y: auto;
    scroll-snap-type: y mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  .home-section {
    position: relative;
    min-height: 100vh;
    scroll-snap-align: start;
    display: flex;
    align-items: center;
  }

  .home-section--hero {
    padding: 0;
  }

  .home-section--light {
    background: #ffffff;
  }

  .home-section--beige {
    background: #f3ebe0;
  }

  .home-section--image {
    background-image: linear-gradient(
        to bottom,
        rgba(17, 24, 39, 0.7),
        rgba(17, 24, 39, 0.8)
      ),
      url('/wedding/dori-david/dori-david-5.jpg');
    background-size: cover;
    background-position: center;
    color: #f9fafb;
  }

  .home-section-inner {
    width: 100%;
    max-width: 960px;
    margin-inline: auto;
    padding: 4rem 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .home-section-inner--overlay {
    max-width: 720px;
  }

  .home-section h2 {
    margin: 0;
    font-size: 1.8rem;
  }

  .home-section p {
    margin: 0;
    font-size: 0.98rem;
    color: var(--color-muted);
  }

  .home-section--image p {
    color: rgba(249, 250, 251, 0.85);
  }

  .home-wedding-row {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 0.5rem;
  }

  .home-wedding-pill {
    display: grid;
    grid-template-columns: minmax(0, 1.5fr) minmax(0, 1fr);
    gap: 0.75rem;
    align-items: center;
    padding: 0.95rem 1rem;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(224, 222, 217, 0.9);
  }

  .home-wedding-pill img {
    width: 120px;
    height: 80px;
    border-radius: 999px;
    object-fit: cover;
  }

  .pill-text h3 {
    margin: 0 0 0.2rem;
    font-size: 0.98rem;
  }

  .pill-text p {
    margin: 0;
    font-size: 0.9rem;
  }

  .home-link {
    margin-top: 1.4rem;
    font-size: 0.9rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: var(--color-text);
  }

  .home-cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-top: 1.6rem;
    padding: 0.85rem 1.6rem;
    border-radius: 999px;
    border: 1px solid transparent;
    font-size: 0.9rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    font-weight: 600;
    background: linear-gradient(135deg, #f1d2a5, #c89a62);
    color: #111827;
    box-shadow: 0 14px 30px rgba(15, 23, 42, 0.36);
    text-decoration: none;
  }

  .home-cta:hover {
    transform: translateY(-1px);
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.5);
  }

  @media (max-width: 900px) {
    .home-snap {
      height: auto;
      margin-inline: 0;
      max-width: 100%;
      scroll-snap-type: y proximity;
    }

    .home-section {
      min-height: auto;
      padding-block: 3rem;
    }

    .home-wedding-pill {
      grid-template-columns: minmax(0, 1fr) auto;
    }
  }

  @media (max-width: 640px) {
    .home-section-inner {
      padding-inline: 1.25rem;
    }

    .home-wedding-pill {
      grid-template-columns: minmax(0, 1fr);
      border-radius: 20px;
    }

    .home-wedding-pill img {
      width: 100%;
      height: 120px;
      border-radius: 16px;
    }
  }
</style>
